@inherits SettingsFormBase

<MudDialog>
    <DialogContent>
        <MudStack Spacing="2">
            <MudSelect T="string"
                       Label="Language"
                       Placeholder="Language"
                       Immediate="true"
                       @bind-Value="@Settings.Language"
                       Adornment="Adornment.Start"
                       AdornmentIcon="@Icons.Material.Filled.Language"
                       Variant="Variant.Outlined">
                @foreach (var (key, language) in Languages)
                {
                    <MudSelectItem T="string"
                                   Value="@key">
                        @language
                    </MudSelectItem>
                }
            </MudSelect>
            <MudTextField T="string"
                          Placeholder="Default alphabet used to generate new passwords"
                          Label="Custom alphabet"
                          @bind-Value="@Settings.DefaultCustomAlphabet"
                          Adornment="Adornment.Start"
                          Variant="Variant.Outlined"
                          Immediate="true"
                          AdornmentIcon="@Icons.Material.Filled.Abc"/>
            <MudTextField T="int"
                          Placeholder="Default length used to generate new passwords"
                          Label="Custom length"
                          @bind-Value="@Settings.DefaultLength"
                          InputType="InputType.Number"
                          InputMode="InputMode.numeric"
                          Adornment="Adornment.Start"
                          Variant="Variant.Outlined"
                          Immediate="true"
                          AdornmentIcon="@Icons.Material.Filled.Straighten"/>
            <MudTextField T="int"
                          Placeholder="Delay before a copied password is removed from the clipboard"
                          Label="Clear timeout"
                          @bind-Value="@Settings.ClearTimeout"
                          InputType="InputType.Number"
                          InputMode="InputMode.numeric"
                          Adornment="Adornment.Start"
                          Variant="Variant.Outlined"
                          Immediate="true"
                          AdornmentIcon="@Icons.Material.Filled.Timer"/>
            <MudTextField T="int"
                          Placeholder="Set GPG cache TTL and prevent Windows Credentials Manager from caching your passphrase"
                          Label="Passphrase cache timeout"
                          @bind-Value="@GpgCacheTtl"
                          InputType="InputType.Number"
                          InputMode="InputMode.numeric"
                          Adornment="Adornment.Start"
                          Variant="Variant.Outlined"
                          Immediate="true"
                          AdornmentIcon="@Icons.Material.Filled.Lock"/>
            <MudButton Color="Color.Error"
                       Variant="Variant.Filled"
                       Style="max-width: 20%"
                       Size="Size.Small"
                       OnClick="@ConfirmDestroyStore">
                <MudIcon Icon="@Icons.Material.Filled.GppBad"
                         Style="margin-right: 2px"/>
                <MudText Typo="Typo.inherit">Destroy the store</MudText>
            </MudButton>
        </MudStack>
    </DialogContent>
    <DialogActions>
        <MudSpacer/>
        <MudButton Variant="Variant.Text"
                   OnClick="@Close">
            Cancel
        </MudButton>
        <MudButton Variant="Variant.Filled"
                   Color="Color.Primary"
                   OnClick="@Save">
            Save
        </MudButton>
    </DialogActions>
</MudDialog>