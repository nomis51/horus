@inherits PasswordFieldBase

<MudStack Spacing="1">
    <MudTextField T="string"
                  Placeholder="Password"
                  Label="Password"
                  InputType="@(IsReadOnly || !IsPasswordVisible ? InputType.Password : InputType.Text)"
                  Adornment="Adornment.End"
                  Variant="Variant.Outlined"
                  ReadOnly="@IsReadOnly"
                  Immediate="true"
                  Value="@(IsReadOnly ? PasswordPlaceholder : NewPassword)"
                  ValueChanged="@(e => NewPassword = e)"
                  Required="!IsReadOnly"
                  OnAdornmentClick="@PasswordIconClick"
                  AdornmentIcon="@(IsReadOnly ? Icons.Material.Filled.ContentCopy : IsPasswordVisible ? Icons.Material.Filled.VisibilityOff : Icons.Material.Filled.Visibility)"/>
    @if (!IsReadOnly)
    {
        <MudTextField T="string"
                      Placeholder="Confirm password"
                      Label="Confirm password"
                      InputType="@(IsPasswordVisible ? InputType.Text : InputType.Password)"
                      Adornment="Adornment.End"
                      Immediate="true"
                      Variant="Variant.Outlined"
                      bind-Value="@NewPasswordConfirm"
                      Required="true"
                      Validation="@ValidatePassword"
                      OnAdornmentClick="@PasswordIconClick"
                      AdornmentIcon="@(IsPasswordVisible ? Icons.Material.Filled.VisibilityOff : Icons.Material.Filled.Visibility)"/>
    }
</MudStack>